(this["webpackJsonpurl-shortener-frontend"]=this["webpackJsonpurl-shortener-frontend"]||[]).push([[0],{317:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(62),a=c.n(s),r=c(18),l=c(25),o=(c(48),c(1));function i(){Object(r.f)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-primary",children:Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navbarText",children:Object(o.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/url",className:"nav-link active",children:"Urls"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/dashboard",className:"nav-link active",children:"Dashboard"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/",className:"nav-link active",children:"Logout"})})]})})})})}var j=c(10);function d(){var e=Object(r.f)(),t=Object(n.useState)(""),c=Object(j.a)(t,2),s=c[0],a=c[1],l=Object(n.useState)(""),i=Object(j.a)(l,2),d=i[0],u=i[1];return Object(o.jsx)("div",{className:"container-md forget-password",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)("div",{className:"panel panel-default",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("img",{src:"https://www.freeiconspng.com/thumbs/login-icon/user-login-icon-14.png",alt:"login",border:"0"}),Object(o.jsx)("h2",{className:"text-center",children:"Login"}),Object(o.jsxs)("div",{autocomplete:"off",className:"form",children:[Object(o.jsx)("br",{}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"Email id",className:"form-control",type:"text",value:s,onChange:function(e){return a(e.target.value)}})}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"Password",className:"form-control",type:"password",value:d,onChange:function(e){return u(e.target.value)}})})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{className:"btn btn-lg btn-primary btn-block",value:"Login",type:"button",onClick:function(){if(s&&d){fetch("https://url-shortener-link.herokuapp.com/auth/login",{method:"POST",body:JSON.stringify({email:s,password:d}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.username?(alert("Hi "+t.username+" !! You are logged in "),e.push("/url")):alert(t)})).catch((function(e){return console.log(e)}))}else alert("Please enter the fields")}})})]}),Object(o.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.push("/")},children:"Signup"}),Object(o.jsx)("button",{className:"btn btn-danger ml-4",onClick:function(){return e.push("/reset")},children:"Forgot Password"})]})})})})})})}function u(){var e=Object(r.g)().restToken,t=Object(r.f)(),c=Object(n.useState)(""),s=Object(j.a)(c,2),a=s[0],l=s[1];return Object(o.jsx)("div",{className:"container-md forget-password",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12 col-md-offset-4",children:Object(o.jsx)("div",{className:"panel panel-default",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("img",{src:"http://cdn.onlinewebfonts.com/svg/img_398183.png",alt:"signup",border:"0"}),Object(o.jsx)("h2",{className:"text-center",children:"New Password"}),Object(o.jsxs)("div",{autocomplete:"off",className:"form",children:[Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"New Password",className:"form-control",type:"password",value:a,onChange:function(e){return l(e.target.value)}})})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{className:"btn btn-lg btn-primary btn-block",value:"Reset Password",type:"button",onClick:function(){if(a){fetch("https://url-shortener-link.herokuapp.com/auth/new-password",{method:"POST",body:JSON.stringify({password:a,token:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.message?(alert(e.message),t.push("/login")):alert(e.error)})).catch((function(e){return console.log(e)}))}else alert("Please enter the fields")}})})]})]})})})})})})}function b(){var e=Object(r.f)(),t=Object(n.useState)(""),c=Object(j.a)(t,2),s=c[0],a=c[1];return Object(o.jsx)("div",{className:"container-md forget-password",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12 col-md-offset-4",children:Object(o.jsx)("div",{className:"panel panel-default",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("img",{src:"http://cdn.onlinewebfonts.com/svg/img_398183.png",alt:"password",border:"0"}),Object(o.jsx)("h2",{className:"text-center",children:"Reset Password"}),Object(o.jsxs)("div",{autocomplete:"off",className:"form",children:[Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"Email id",className:"form-control",type:"text",value:s,onChange:function(e){return a(e.target.value)}})})}),Object(o.jsx)("p",{className:"text-danger",children:"Link will be valid for only an hour"}),Object(o.jsxs)("p",{className:"text-secondary",children:["Kindly check inside the ",Object(o.jsx)("b",{children:"Spam"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("input",{className:"btn btn-lg btn-primary btn-block",value:"Send Email",type:"button",onClick:function(){if(s){fetch("https://url-shortener-link.herokuapp.com/auth/reset-password",{method:"POST",body:JSON.stringify({email:s}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.message?alert(e.message):alert(e.error)})).catch((function(e){return console.log(e)}))}else alert("Please enter the fields")}}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{className:"btn btn-secondary",value:"Back",type:"button",onClick:function(){return e.goBack()}})]})]})]})})})})})})}function h(){var e=Object(r.f)(),t=Object(n.useState)(""),c=Object(j.a)(t,2),s=c[0],a=c[1],l=Object(n.useState)(""),i=Object(j.a)(l,2),d=i[0],u=i[1],b=Object(n.useState)(),h=Object(j.a)(b,2),m=h[0],p=h[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),f=x[0],g=x[1],v=Object(n.useState)(""),N=Object(j.a)(v,2),y=N[0],k=N[1];return Object(o.jsx)("div",{className:"container-md forget-password",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)("div",{className:"panel panel-default",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("img",{src:"https://pic.onlinewebfonts.com/svg/img_221313.png",alt:"signup",border:"0"}),Object(o.jsx)("h2",{className:"text-center",children:"Sign-Up"}),Object(o.jsxs)("div",{autocomplete:"off",className:"form",children:[Object(o.jsx)("br",{}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"User name",className:"form-control",type:"text",value:m,onChange:function(e){return p(e.target.value)}})}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"Email id",className:"form-control",type:"email",value:f,onChange:function(e){return g(e.target.value)}})}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"Password",className:"form-control",type:"password",value:y,onChange:function(e){return k(e.target.value)}})}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"First name",className:"form-control",type:"text",value:s,onChange:function(e){return a(e.target.value)}})}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("input",{placeholder:"Last name",className:"form-control",type:"text",value:d,onChange:function(e){return u(e.target.value)}})})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{className:"btn btn-lg btn-primary btn-block",value:"Signup",type:"button",onClick:function(){if(!f.includes("@")||!f.includes(".")||f.length<8)alert("Email is not valid");else if(m&&f&&y&&s){fetch("https://url-shortener-link.herokuapp.com/auth/register",{method:"POST",body:JSON.stringify({username:m,email:f,password:y,firstName:s,lastName:d}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.message?(alert(e.message),a(""),u(""),p(""),g(""),k("")):alert(e.error)})).catch((function(e){return console.log(e)}))}else alert("Please enter the fields")}})})]}),"Have an account ?",Object(o.jsx)("button",{className:"btn btn-success ml-4",onClick:function(){return e.push("/login")},children:"Login"})]})})})})})})}function m(){Object(r.f)();var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),l=Object(j.a)(a,2),i=l[0],d=l[1],u=Object(n.useState)(""),b=Object(j.a)(u,2),h=b[0],m=b[1];Object(n.useEffect)((function(){fetch("https://url-shortener-link.herokuapp.com/url/",{method:"GET",headers:{Accept:"*/*"}}).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return console.log(e)}))}),[i]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12 text-center",children:Object(o.jsx)("h1",{children:"URL Shortner"})})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)("form",{action:"/create",method:"POST",children:Object(o.jsxs)("div",{className:"input-group mb-3",children:[Object(o.jsx)("input",{type:"text",name:"longurl",className:"form-control mr-4",placeholder:"Enter the URL",onChange:function(e){return m(e.target.value)},value:h}),Object(o.jsx)("button",{className:"btn btn-outline-success",type:"button",id:"button-addon2",onClick:function(){h?function(){var e={Accept:"*/*","Content-Type":"application/json"};fetch("https://url-shortener-link.herokuapp.com/url/create",{method:"POST",body:JSON.stringify({longUrl:h}),headers:e}).then((function(e){return e.json()})).then((function(e){e.shortUrl?(alert("Short Url is - "+e.shortUrl),m(""),d(!i)):alert("Url is already exists")})).catch((function(e){return console.log(e)}))}():alert("Please enter the url")},children:"Submit"})]})})})}),Object(o.jsx)("div",{className:"row",children:c.length?c.map((function(e){return Object(o.jsx)("div",{className:"col-md-4 col-sm-6 col-xs-12",children:Object(o.jsxs)("div",{className:"card text-dark bg-light mb-3",style:{maxWidth:"18rem"},children:[Object(o.jsxs)("div",{className:"card-header",children:["Total clicks : ",e.clickCount]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h6",{className:"card-title",children:Object(o.jsxs)("p",{className:"text-success",style:{cursor:"pointer"},onClick:function(){return t=e.shortUrl,void fetch("https://url-shortener-link.herokuapp.com/url/shortUrl/".concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),d(!i),window.open(e,"_blank")})).catch((function(e){return console.log(e)}));var t},children:[Object(o.jsx)("b",{className:"text-dark",children:"Short-Url : "}),"https://",e.shortUrl]})}),Object(o.jsxs)("p",{className:"card-text",children:[Object(o.jsx)("b",{className:"text-dark",children:"Long-Url : "}),e.longUrl]}),Object(o.jsx)("button",{type:"button",onClick:function(){return t=e._id,void fetch("https://url-shortener-link.herokuapp.com/url/delete/".concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),alert(e.message),d(!i)})).catch((function(e){return console.log(e)}));var t},className:"btn btn-sm btn-danger",children:"Delete"})]})]})})})):Object(o.jsx)("h2",{children:"Loading..."})})]})})}var p=c(167),O=c(319),x=c(325),f=c(165),g=c(168),v=c(73),N=c(323);function y(e){var t=e.title,c=e.data,n=e.dataKey,s=e.grid;return Object(o.jsxs)("div",{className:"container mx-auto chart",children:[Object(o.jsx)("h3",{className:"chartTitle",children:t}),Object(o.jsx)(O.a,{width:"100%",aspect:4,children:Object(o.jsxs)(x.a,{data:c,children:[Object(o.jsx)(f.a,{dataKey:"name",stroke:"#5550bd"}),Object(o.jsx)(g.a,{type:"monotone",dataKey:n,stroke:"#5550bd"}),Object(o.jsx)(v.a,{}),s&&Object(o.jsx)(N.a,{stroke:"#e0dfdf",strokeDasharray:"5 5"})]})}),Object(o.jsx)("br",{}),Object(o.jsx)("ul",{class:"list-group w-25 mx-auto",children:c.length?c.map((function(e){return Object(o.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[e.name,Object(o.jsx)("span",{class:"badge badge-secondary  font-weight-bold p-2",children:e.count})]})})):Object(o.jsx)("h2",{children:"Loading..."})})]})}function k(){var e=Object(n.useMemo)((function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Agu","Sep","Oct","Nov","Dec"]}),[]),t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){fetch("https://url-shortener-link.herokuapp.com/url/urlCount",{method:"GET"}).then((function(e){return e.json()})).then((function(t){t.sort((function(e,t){return e._id-t._id})).map((function(t){return a((function(c){return[].concat(Object(p.a)(c),[{name:e[t._id-1],"New Url":t.total,count:t.total}])}))}))})).catch((function(e){return console.log(e)}))}),[e]),Object(o.jsx)("div",{className:"dashboard",children:Object(o.jsx)(y,{data:s,title:"Url Analytics",grid:!0,dataKey:"New Url"})})}function w(){var e=Object(r.f)(),t=Object(n.useState)(!0),c=Object(j.a)(t,2),s=c[0],a=c[1],l=Object(r.g)().token,i={"Content-Type":"application/json"};return Object(n.useEffect)((function(){fetch("https://url-shortener-link.herokuapp.com/auth/activation",{method:"POST",body:JSON.stringify({token:l}),headers:i}).then((function(e){return e.json()})).then((function(t){t.message?(alert(t.message),a(!1)):(alert(t.error),e.push("/"))})).catch((function(e){return console.log(e)}))}),[]),Object(o.jsx)("div",{className:"container mx-auto card p-4 mt-4",children:s?Object(o.jsx)("h2",{className:"text-center",children:"Loading..."}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{className:"text-center",children:"Activation done successfully"}),Object(o.jsx)("img",{className:"mx-auto",alt:"activation",src:"https://us.123rf.com/450wm/panyamail/panyamail1812/panyamail181200644/114283334-check-mark-symbol-check-box-icon.jpg?ver=6"}),Object(o.jsx)("button",{className:"btn-lg btn-success mx-auto",onClick:function(){return e.push("/url")},children:"Home"})," "]})})}function S(){var e=Object(r.f)();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("img",{style:{height:"100%",width:"100%"},src:"http://www.digitalmesh.com/blog/wp-content/uploads/2020/05/404-error.jpg"}),Object(o.jsx)("button",{className:"btn-lg btn-success mx-auto",onClick:function(){return e.push("/")},children:"Home"})]})}function C(){Object(r.f)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(l.a,{children:Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{exact:!0,path:"/",children:Object(o.jsx)(h,{})}),Object(o.jsx)(r.a,{path:"/login",children:Object(o.jsx)(d,{})}),Object(o.jsxs)(r.a,{exact:!0,path:"/url",children:[Object(o.jsx)(i,{}),Object(o.jsx)(m,{})]}),Object(o.jsx)(r.a,{path:"/activation/:token",children:Object(o.jsx)(w,{})}),Object(o.jsxs)(r.a,{path:"/dashboard",children:[Object(o.jsx)(i,{}),Object(o.jsx)(k,{})]}),Object(o.jsx)(r.a,{path:"/reset",children:Object(o.jsx)(b,{})}),Object(o.jsx)(r.a,{path:"/new-password/:restToken",children:Object(o.jsx)(u,{})}),Object(o.jsx)(r.a,{exact:!0,path:"/*",children:Object(o.jsx)(S,{})})]})})})}var T=document.getElementById("root");a.a.render(Object(o.jsx)(n.StrictMode,{children:Object(o.jsx)(C,{})}),T)},48:function(e,t,c){}},[[317,1,2]]]);
//# sourceMappingURL=main.5db70f0e.chunk.js.map